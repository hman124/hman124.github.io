
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <style>
  * {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  user-select:none;
}

body {
  display: flex;
  font-family: sans-serif;
  justify-content: center;
}

.pokedex {
  align-items: flex-end;
  display: flex;
  height: 500px;
  margin: 50px;
  width: 800px;
}

.left-container,
.right-container {
  border: 3px solid black;
  width: 50%;
}

.right-container {
  border-left: none;
}

.left-container {
  background: #E71D23;
  height: 100%;
  width: calc(50% + 50px);
}

.left-container__top-section {
  border-bottom: 3px solid black;
  display: flex;
  height: 50px;
  padding: 8px;
}

.top-section__blue {
  background: radial-gradient(farthest-corner at 10px 10px, white, #369CD4, #369CD4);
  border-radius: 50%;
  border: 2px solid white;
  box-shadow: 0 0 2px 2px rgba(0,0,0,.5);
  height: 30px;
  width: 30px;
}

.top-section__small-buttons {
  display: flex;
  margin: 0 25px;
}

.top-section__red,
.top-section__yellow,
.top-section__green {
  border-radius: 50%;
  border: 1px solid black;
  height: 10px;
  margin-right: 5px;
  width: 10px;
}

.left-container__main-section-container {
  display: flex;
  height: calc(100% - 50px);
}

.left-container__main-section {
  height: 100%;
  padding: 25px;
  width: 500px;
}

.main-section__white {
  background: #DEDEDE;
  border: 3px solid black;
  box-shadow: inset 0 0 3px 3px rgba(0,0,0,.3);
  height: 325px;
}

.main-section__black {
  background: black;
  height: calc(100% - 50px);
  margin: 25px;
  padding: 10px;
  width: calc(100% - 50px);
}

.main-screen {
  border-radius: 15px;
  height: 100%;
  padding: 15px;
}

.screen__header {
  align-items: center;
  display: flex;
  justify-content: space-between;
}

.poke-name {
  color: white;
  font-size: 25px;
  font-weight: bold;
}

.poke-id {
  color: rgba(0,0,0,.5);
  font-size: 20px;
}

.screen__image {
  display: flex;
  justify-content: space-around;
}

.poke-front-image,
.poke-back-image {
  height: 96px;
  width: 96px;
}

.screen__description {
  display: flex;
  height: 100px;
  justify-content: space-around;
}

.screen__stats {
  background: rgba(0,0,0,.3);
  border-radius: 5px;
  color: white;
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: space-between;
  padding: 20px 15px;
}

.stats__types {
  height: 100%;
  padding: 5px;
}

.poke-type-one,
.poke-type-two {
  background: rgba(255,255,255,.3);
  border-radius: 25px;
  display: block;
  margin-bottom: 10px;
  padding: 10px;
  text-align: center;
}

.left-container__controllers {
  align-items: center;
  display: flex;
  justify-content: space-around;
  margin: 10px 25px 0;
}

.controllers__d-pad {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  grid-template-rows: repeat(3, 1fr);
}

.d-pad__cell {
  background: black;
  box-shadow: 0 0 2px 2px rgba(0,0,0, .3);
  height: 25px;
  width: 25px;
}

.d-pad__cell.top {
  border-left: 1px solid dimgrey;
  border-radius: 5px 5px 0 0;
  border-right: 1px solid dimgrey;
  border-top: 1px solid dimgrey;
  grid-column: 2 / span 1;
  grid-row: 1 / span 1;
}

.d-pad__cell.left {
  border-bottom: 1px solid dimgrey;
  border-left: 1px solid dimgrey;
  border-radius: 5px 0 0 5px;
  border-top: 1px solid dimgrey;
  grid-column: 1 / span 1;
  grid-row: 2 / span 1;
}

.d-pad__cell.middle {
  grid-column: 2 / span 1;
  grid-row: 2 / span 1;
}

.d-pad__cell.right {
  border-bottom: 1px solid dimgrey;
  border-radius: 0 5px 5px 0;
  border-right: 1px solid dimgrey;
  border-top: 1px solid dimgrey;
  grid-column: 3 / span 1;
  grid-row: 2 / span 1;
}

.d-pad__cell.bottom {
  border-bottom: 1px solid dimgrey;
  border-left: 1px solid dimgrey;
  border-radius: 0 0 5px 5px;
  border-right: 1px solid dimgrey;
  grid-column: 2 / span 1;
  grid-row: 3 / span 1;
}

.controllers__buttons {
  display: flex;
  justify-content: space-around;
  width: 100px;
}

.buttons__button {
  align-items: center;
  background: black;
  border-radius: 50%;
  border: 1px solid dimgrey;
  box-shadow: 0 0 2px 2px rgba(0,0,0, .3);
  color: rgba(255,255,255,.75);
  display: flex;
  height: 35px;
  justify-content: center;
  width: 35px;
}

.buttons__button:first-child {
  margin-top: 5px;
}

.buttons__button:last-child {
  margin-top: -5px;
}


.left-container__right {
  border-left: 3px solid black;
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: space-between;
  width: 50px;
}

.left-container__hinge {
  background: linear-gradient(to right, #7F100F, #E71D23, #E71D23, #7F100F);
  height: 75px;
  width: 100%;
}

.left-container__hinge:first-child {
  border-bottom: 3px solid black;
}

.left-container__hinge:last-child {
  border-top: 3px solid black;
}

.top-section__red {
  background: #7F100F;
}

.top-section__yellow {
  background: #EDF18E;
}

.top-section__green {
  background: #33915A;
}

.right-container {
  background: #E71D23;
  height: calc(100% - 50px);
  padding: 25px;
  width: calc(50% - 50px);
}

.right-container__black {
  background: black;
  box-shadow: 0 0 2px 2px rgba(0,0,0,.3);
  height: 300px;
  padding: 10px;
}

.right-container__screen {
  background: #43B0F2;
  border-radius: 15px;
  display: flex;
  flex-direction: column;
  flex-wrap: wrap;
  height: 100%;
  padding: 15px 15px 0;
}

.list-item {
  align-items: center;
  color: white;
  cursor: pointer;
  display: flex;
  font-size: 12px;
  height: 25px;
  overflow-x: hidden;
  padding-left: 5px;
  width: 50%;
}

.list-item:hover {
  background: #85cbf2;
  color: black;
}

.list-item:active {
  background: #1280f2;
  color: white;
}

.right-container__buttons {
  display: flex;
  justify-content: space-around;
  margin-top: 25px;
}

.left-button,
.right-button {
  align-items: center;
  background: #DEDEDE;
  border-radius: 3px;
  border: 2px solid black;
  box-shadow: 0 0 2px 2px rgba(0,0,0,.3);
  cursor: pointer;
  display: flex;
  font-weight: bold;
  height: 30px;
  justify-content: center;
  text-transform: uppercase;
  width: 100px;
}

.left-button:hover,
.right-button:hover {
  background: white;
}

.left-button:active,
.right-button:active {
  box-shadow: inset 0 0 2px 2px rgba(0,0,0,.3);
}


.hide {
  display: none;
}

.normal {
  background: #BABAAE;
}

.fighting {
  background: #A75543;
}

.flying {
  background: #78A2FF;
}

.poison {
  background: #A95CA0;
}

.ground {
  background: #EECC55;
}

.rock {
  background: #CCBD72;
}

.bug {
  background: #C2D21E;
}

.ghost {
  background: #7975D7;
}

.steel {
  background: #C4C2DB;
}

.fire {
  background: #FA5643;
}

.water {
  background: #56ADFF;
}

.grass {
  background: #8CD750;
}

.electric {
  background: #FDE139;
}

.psychic {
  background: #FA65B4;
}

.ice {
  background: #96F1FF;
}

.dragon {
  background: #8673FF;
}

.dark {
  background: #8D6855;
}

.fairy {
  background: #F9AEFF;
}
  </style>
  <title>Pokedex</title>
</head>
<body>
<div class="pokedex">
  <div class="left-container">
    <div class="left-container__top-section">
      <div class="top-section__blue"></div>
      <div class="top-section__small-buttons">
        <div class="top-section__red"></div>
        <div class="top-section__yellow"></div>
        <div class="top-section__green"></div>
      </div>
    </div>
    <div class="left-container__main-section-container">
      <div class="left-container__main-section">
        <div class="main-section__white">
          <div class="main-section__black">
            <div class="main-screen hide">
              <div class="screen__header">
                <span class="poke-name"></span>
                <span class="poke-id"></span>
              </div>
              <div class="screen__image">
                <img src="" class="poke-front-image" alt="front">
                <img src="" class="poke-back-image" alt="back">
              </div>
              <div class="screen__description">
                <div class="stats__types">
                  <span class="poke-type-one"></span>
                  <span class="poke-type-two"></span>
                </div>
                <div class="screen__stats">
                  <p class="stats__weight">
                    weight: <span class="poke-weight"></span>
                  </p>
                  <p class="stats__height">
                    height: <span class="poke-height"></span>
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="left-container__controllers">
          <div class="controllers__d-pad">
            <div class="d-pad__cell top"></div>
            <div class="d-pad__cell left"></div>
            <div class="d-pad__cell middle"></div>
            <div class="d-pad__cell right"></div>
            <div class="d-pad__cell bottom"></div>
          </div>
          <div class="controllers__buttons">
            <div class="buttons__button">B</div>
            <div class="buttons__button">A</div>
          </div>
        </div>
      </div>
      <div class="left-container__right">
        <div class="left-container__hinge"></div>
        <div class="left-container__hinge"></div>
      </div>
    </div>
  </div>
  <div class="right-container">
    <div class="right-container__black">
      <div class="right-container__screen">
        <div class="list-item"></div>
        <div class="list-item"></div>
        <div class="list-item"></div>
        <div class="list-item"></div>
        <div class="list-item"></div>
        <div class="list-item"></div>
        <div class="list-item"></div>
        <div class="list-item"></div>
        <div class="list-item"></div>
        <div class="list-item"></div>
        <div class="list-item"></div>
        <div class="list-item"></div>
        <div class="list-item"></div>
        <div class="list-item"></div>
        <div class="list-item"></div>
        <div class="list-item"></div>
        <div class="list-item"></div>
        <div class="list-item"></div>
        <div class="list-item"></div>
        <div class="list-item"></div>
      </div>
    </div>
    <div class="right-container__buttons">
      <div class="left-button">Prev</div>
      <div class="right-button">Next</div>
    </div>
  </div>
</div>
<script>


// DOM Objects
const mainScreen = document.querySelector('.main-screen');
const pokeName = document.querySelector('.poke-name');
const pokeId = document.querySelector('.poke-id');
const pokeFrontImage = document.querySelector('.poke-front-image');
const pokeBackImage = document.querySelector('.poke-back-image');
const pokeTypeOne = document.querySelector('.poke-type-one');
const pokeTypeTwo = document.querySelector('.poke-type-two');
const pokeWeight = document.querySelector('.poke-weight');
const pokeHeight = document.querySelector('.poke-height');
const pokeListItems = document.querySelectorAll('.list-item');
const leftButton = document.querySelector('.left-button');
const rightButton = document.querySelector('.right-button');


// constants and variables
const TYPES = [
  'normal', 'fighting', 'flying',
  'poison', 'ground', 'rock',
  'bug', 'ghost', 'steel',
  'fire', 'water', 'grass',
  'electric', 'psychic', 'ice',
  'dragon', 'dark', 'fairy'
];
let prevUrl = null;
let nextUrl = null;


// Functions
const capitalize = (str) => str[0].toUpperCase() + str.substr(1);

const resetScreen = () => {
  mainScreen.classList.remove('hide');
  for (const type of TYPES) {
    mainScreen.classList.remove(type);
  }
};

const fetchPokeList = url => {
  fetch(url)
    .then(res => res.json())
    .then(data => {
      const { results, previous, next } = data;
      prevUrl = previous;
      nextUrl = next;

      for (let i = 0; i < pokeListItems.length ; i++) {
        const pokeListItem = pokeListItems[i];
        const resultData = results[i];

        if (resultData) {
          const { name, url } = resultData;
          const urlArray = url.split('/');
          const id = urlArray[urlArray.length - 2];
          pokeListItem.textContent = id + '. ' + capitalize(name);
        } else {
          pokeListItem.textContent = '';
        }
      }
    });
};

const fetchPokeData = id => {
  fetch(`https://pokeapi.co/api/v2/pokemon/${id}`)
    .then(res => res.json())
    .then(data => {
      resetScreen();

      const dataTypes = data['types'];
      const dataFirstType = dataTypes[0];
      const dataSecondType = dataTypes[1];
      pokeTypeOne.textContent = capitalize(dataFirstType['type']['name']);
      if (dataSecondType) {
        pokeTypeTwo.classList.remove('hide');
        pokeTypeTwo.textContent = capitalize(dataSecondType['type']['name']);
      } else {
        pokeTypeTwo.classList.add('hide');
        pokeTypeTwo.textContent = '';
      }
      mainScreen.classList.add(dataFirstType['type']['name']);

      pokeName.textContent = capitalize(data['name']);
      pokeId.textContent = '#' + data['id'].toString().padStart(3, '0');
      pokeWeight.textContent = data['weight'];
      pokeHeight.textContent = data['height'];
      pokeFrontImage.src = data['sprites']['front_default'] || pokeFrontImage .classList.add('hide');;
      pokeBackImage.src = data['sprites']['back_default'] || pokeBackImage .classList.add('hide');
    });
};

const handleLeftButtonClick = () => {
  if (prevUrl) {
    fetchPokeList(prevUrl);
  }
};

const handleRightButtonClick = () => {
  if (nextUrl) {
    fetchPokeList(nextUrl);
  }
};

const handleListItemClick = (e) => {
  if (!e.target) return;

  const listItem = e.target;
  if (!listItem.textContent) return;

  const id = listItem.textContent.split('.')[0];
  fetchPokeData(id);
};


// adding event listeners
leftButton.addEventListener('click', handleLeftButtonClick);
rightButton.addEventListener('click', handleRightButtonClick);
for (const pokeListItem of pokeListItems) {
  pokeListItem.addEventListener('click', handleListItemClick);
}


// initialize App
fetchPokeList('https://pokeapi.co/api/v2/pokemon?offset=0&limit=20');
</script>
</body>
</html>
